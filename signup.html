<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NEXT STEP | Sign Up</title>
    <link rel="stylesheet" href="style.css">
    <style>
        .form-row {
            margin-bottom: 15px;
        }
        
        .form-row label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
            color: #333;
        }
        
        .form-row input {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 14px;
            box-sizing: border-box;
        }
        
        .form-row input:focus {
            outline: none;
            border-color: #0b66b3;
            box-shadow: 0 0 0 2px rgba(11, 102, 179, 0.1);
        }
        
        .field-help {
            font-size: 12px;
            color: #666;
            margin-top: 4px;
        }
        
        .privacy-note {
            font-size: 0.9rem;
            color: #444;
            margin-top: 10px;
            line-height: 1.4;
        }
        
        .privacy-note code {
            background: #f5f5f5;
            padding: 1px 4px;
            border-radius: 2px;
            font-size: 0.85em;
        }
    </style>
</head>

<body>
    <header class="navbar">
        <div class="logo-area">
            <div class="logo-circle">
                <img src="logo/Blue%20%26%20Orange%20Circle%20Illustrative%20Education%20Logo.jpg" class="nav-logo" alt="Next Step logo" onerror="this.onerror=null;this.src='logo/557536151_1257403522824074_2017646524872962832_n.png'">
            </div>
            <h3 class="brand">NEXT STEP</h3>
        </div>
        <nav class="main-nav">
            <a href="index.html">Home</a>
            <a href="index.html#about">About</a>
            <a href="index.html#site-contact">Contact</a>
        </nav>
    </header>

    <div class="container">
        <img src="logo/Blue%20%26%20Orange%20Circle%20Illustrative%20Education%20Logo.jpg" class="nav-logo" alt="Next Step logo" onerror="this.onerror=null;this.src='logo/557536151_1257403522824074_2017646524872962832_n.png'">
        <h2>Welcome to NEXT STEP</h2>
        <!--
            Signup form
            - Fields are referenced by `signup.js`:
                * #signupName   -> full name
                * #signupEmail  -> email
                * #signupPhone  -> optional phone
                * #signupPassword -> password (signup.js should hash or send securely)
                * #signupConfirm -> password confirmation
            - On success the script dispatches `signup:saved` and stores queued items in localStorage key `signup_queue` when offline.
            - Developer: consider moving password hashing to server-side; the `signups` table expects a `password_hash` column.
        -->
        <form id="signupForm" novalidate>
            <div class="form-row">
                <label for="signupName">Full name</label>
                <input id="signupName" name="full_name" type="text" placeholder="Full name" required aria-required="true">
            </div>

            <div class="form-row">
                <label for="signupEmail">Email address</label>
                <input id="signupEmail" name="email" type="email" placeholder="Email address" required aria-required="true">
            </div>

            <div class="form-row">
                <label for="signupPhone"> Contact number </label>
                <input id="signupPhone" name="phone" type="tel" placeholder="e.g. +63 912 345 6789" aria-describedby="phoneHelp">
                <div id="phoneHelp" class="field-help">We'll only use this to contact you about your account.</div>
            </div>

            <div class="form-row">
                <label for="signupPassword">Password</label>
                <input id="signupPassword" name="password" type="password" placeholder="Password" required aria-required="true" aria-describedby="pwHelp">
            </div>

            <div class="form-row">
                <label for="signupConfirm">Confirm password</label>
                <input id="signupConfirm" name="confirm_password" type="password" placeholder="Confirm Password" required aria-required="true" aria-describedby="pwHelp">
                <div id="pwHelp" class="field-help">Password should be at least 8 characters. Make sure both fields match.</div>
            </div>

            <!-- hidden developer / UX fields -->
            <input type="hidden" id="signupRole" name="role" value="student">

            <div class="form-row" style="margin-top: 20px;">
                <label style="display: flex; align-items: flex-start; font-weight: normal; cursor: pointer;">
                    <input type="checkbox" id="signupTerms" name="terms" style="width: auto; margin-right: 8px; margin-top: 3px; cursor: pointer;" required>
                    <span style="font-size: 14px; line-height: 1.5;">I agree to the <a href="#" style="color: #0b66b3; text-decoration: underline;">Terms and Conditions</a> and <a href="#" style="color: #0b66b3; text-decoration: underline;">Privacy Policy</a></span>
                </label>
            </div>

            <div style="margin-top:8px">
                <button id="signupBtn" type="submit" class="btn">Sign Up</button>
            </div>
            
            <div style="margin-top:12px; min-height: 24px;">
                <span id="signupStatus" role="status" aria-live="polite" style="color:#0b66b3;font-weight:600;display:block"></span>
            </div>

        </form>
        <p>Already have an account? <a href="login.html">Login</a></p>
        <a href="index.html" class="back-btn">‚Üê Back</a>
    </div>

    <script src="supabase-client.js" defer></script>
    <script src="database-setup.js" defer></script>
    <script src="signup.js" defer></script>
</body>

</html>